---
comments: true
---

# 第三章 - 组合逻辑电路的设计

一般地，设计一个数字系统的过程为：

1. 指定所需的行为
2. 以布尔方程或真值表的方式对系统的输入和输出关系形式化
3. 优化逻辑行为的表示，减少所需逻辑门的数量
4. 将优化后的逻辑映射到可以实现的工艺上
5. 验证最后设计的正确性

本章我们将主要讨论其中的前四步。

## 分层设计

对于复杂的数字系统，一种典型的设计方法是**分层设计** (hierarchical design)，而不是将设计过程应用在整个系统层面上，由此产生的相关概念构成了电路设计的**层次** (hierarchy) 结构。

为了处理复杂电路，电路被我们分成称之为**模块** (block) 的多个部分，并按照前述的设计过程设计模块。模块之间相互连接构成电路。如果一个模块作为单一实体仍然太大而难以设计，则可以将这个模块分成多个更小的模块。

分层设计可以极大程度上简化复杂电路的表示。我们进一步给出如下定义：分层设计末端的模块称作**原子模块** (primitive block)，我们认为原子模块都是**预定义** (predefine) 的，在电路图中用符号而不用逻辑图来表示，其功能用程序或语言描述而不用电路图来定义。

分层设计的另一个特性是模块的**可重用** (reuse) 性，即在同一电路中，可以有许多模块的功能是一致的。实现这个目标的先决条件是电路必须是**规整** (regularity) 的，即这个**规整电路** (regular circuit) 可以通过重用一定数量的不同模块来实现；而**不规整电路** (irregular circuit) 则没有这个特性。

对于一个给定的可重用的模块，其设计只需要一次。出现在设计中的模块称作这个模块的一个**实例** (instance)，其应用称作**实例化** (instantiation)。

显然各种电路的规整程度都不一样，我们常这样衡量电路的规整度，即考察最终电路中原子模块的数量与分层设计框图中基本模块（包括原子模块）的数量之比。比值越大，该电路就越规整。

接下来我们将讨论位于分层逻辑设计较低层的预定义和可重用模块。这些中等大小的模块在在数字设计中提供基本功能，并允许设计者在原子模块（即逻辑门）上进行大部分的设计工作。我们称这些模块为**功能模块** (functional block)，即预定义的门级互联电路。

???+ note

    大部分功能模块属于[中规模集成电路](https://victorwang712.github.io/Note/computer_science/digital_logic_design/chapter_5/#_2)。

## 工艺映射

**工艺映射** (technology mapping) 是将逻辑图或网表转化成可以用工艺实现的新的图或网表的过程。

正如我们在第二章提到的，与非门和或非门都是[通用门](https://victorwang712.github.io/Note/computer_science/digital_logic_design/chapter_2/#_3)。而在线代晶体管技术中，与非门和或非门较与门和或门的性能也更好。因此我们将讨论如何将逻辑电路转化为仅有与非门（或或非门）与反相器实现的逻辑电路。

给定一个已经优化的，有与门、或门和反相器组成的电路，可以通过如下步骤将其变成由与非门（或或非门）组成的电路：

1. 用与非门（或或非门）和反相器替换原电路中的与门和或门，形成新的等效电路。
2. 消除所有反相器对。
3. 在不改变逻辑函数的前提下：
    1. 将能够前置的反相器置于逻辑门前。
    2. 用一个反相器替代所有并联的反相器。
    3. 重复以上两步。

下图是对以上步骤的可视化呈现：

<div style="text-align: center; margin-top: 0px;">
<img src="https://raw.githubusercontent.com/VictorWang712/Note/refs/heads/main/docs/assets/images/computer_science/digital_logic_design/chapter_3_1.png" width="70%" style="margin: 0 auto;">
</div>
